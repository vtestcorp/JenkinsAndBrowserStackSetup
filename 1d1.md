# authentication service - multi-factor authentication component - functional

## UI allows user to login with valid 2 factor code

1. Open {{ENV}}.qa.solvexia.com
2. Enter correct username and password
3. Click Sign in 
4. Enter valid registered mobile number
5. Click Get code via mobile 
6. Enter valid code received on mobile 
7. Click Verify code

`User should be allowed to login `

## UI does not allow user to enter maximum digits (more than 6 digits)in 2FA code

1. Open {{ENV}}.qa.solvexia.com
2. Enter correct username and password
3. Click Sign in
4. Enter valid registered mobile number
5. Click Get code via mobile
6. Enter more than 6 digits like 1234567

`UI should not allow to enter digits more than 6`

## UI does not allow user to enter minimum digits(less than 6 digits) in 2FA code

1. Open {{ENV}}.qa.solvexia.com
2. Enter correct username and password
3. Click Sign in
4. Enter valid registered mobile number
5. Click Get code via mobile 
6. Enter less than 6 digits like 12345
7. Click Verify code

`User should get warning message "Please match the requested format."`

## Application sends code to registered mobile number

1. Open {{ENV}}.qa.solvexia.com
2. Enter correct username and password
3. Click Sign in
4. Enter valid registered mobile number
5. Click Get code via mobile

`User will receive a sms with 6 digit code to registered mobile number`
 
## UI allows user to enter correct code after incorrect code

1. Open {{ENV}}.qa.solvexia.com
2. Enter correct username and password
3. Click Sign in
4. Enter valid registered mobile number
5. Click Get code via mobile
6. Enter invalid code
7. Click Verify code
8. Enter valid code
9. Click Verify code

`User can enter correct code after incorrect code`
`User should be allowed to login `

## UI allows user to sign in without asking for MFA if it hasn't been set up in the past

1. Open {{ENV}}.qa.solvexia.com
2. Enter valid username in username field
3. Enter valid password in password field
4. Click Sign in

`User should be allowed to login`

## UI allows user to sign in with MFA if it has been set up in the past

1. Open {{ENV}}.qa.solvexia.com
2. Enter valid username in username field
3. Enter valid password in password field
4. Click Sign in

`UI navigates to Configure two-factor authentication page`